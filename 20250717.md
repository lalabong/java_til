
# Java 예외 처리(Exception Handling)

## 예외 처리 개요

프로그램 실행 중 발생할 수 있는 예상치 못한 상황을 적절히 처리하여 프로그램의 안정성을 보장하는 메커니즘

## try-catch-finally 블록

### try 블록

- **역할**: 예외가 발생할 가능성이 있는 코드를 포함
- **특징**: 예외 발생 시 즉시 catch 블록으로 제어권 이동


### catch 블록

- **역할**: 특정 예외 타입을 잡아서 처리
- **특징**:
    - 여러 개의 catch 블록 사용 가능
    - 상위 예외부터 하위 예외 순으로 배치
    - 예외 객체를 통해 상세 정보 접근 가능


### finally 블록

- **역할**: 예외 발생 여부와 관계없이 **반드시 실행**되는 코드
- **주요 용도**:
    - 리소스 해제 (파일, 네트워크 연결 등)
    - 정리 작업 수행
    - 로깅 작업

```java
try {
    // 예외 발생 가능한 코드
} catch (SpecificException e) {
    // 특정 예외 처리
} catch (Exception e) {
    // 일반 예외 처리
} finally {
    // 반드시 실행되는 코드
}
```


## Exception 분류

### Checked Exception (컴파일 시점 예외)

**특징**:

- **컴파일 시점**에 예외 처리 강제
- **반드시 처리**하거나 **throws로 전파** 필요
- **외부 리소스** 접근 시 주로 발생

**대표 예외**:

- `IOException`: 파일 입출력 관련
- `SQLException`: 데이터베이스 접근 관련
- `ClassNotFoundException`: 클래스 로딩 실패


### Unchecked Exception (런타임 예외)

**특징**:

- **런타임 시점**에 발생
- **예외 처리 선택적** (강제되지 않음)
- **프로그래밍 오류**로 인해 주로 발생

**대표 예외**:

- `NullPointerException`: null 참조 접근
- `ArrayIndexOutOfBoundsException`: 배열 범위 초과
- `IllegalArgumentException`: 잘못된 매개변수


## 예외 계층 구조

```
Throwable
├── Error (시스템 레벨 오류)
└── Exception
    ├── RuntimeException (Unchecked)
    │   ├── NullPointerException
    │   ├── ArrayIndexOutOfBoundsException
    │   └── IllegalArgumentException
    └── Checked Exception
        ├── IOException
        ├── SQLException
        └── ClassNotFoundException
```


## 주요 차이점 비교

| 구분 | Checked Exception | Unchecked Exception |
| :-- | :-- | :-- |
| **처리 시점** | 컴파일 시점 | 런타임 시점 |
| **처리 의무** | 필수 (강제) | 선택적 |
| **상속 관계** | Exception 직접 상속 | RuntimeException 상속 |
| **주요 원인** | 외부 환경 요인 | 프로그래밍 오류 |
| **예방 방법** | try-catch 또는 throws | 코드 검증 및 방어 로직 |

## 예외 처리 전략

### Checked Exception 처리

```java
// 방법 1: try-catch로 직접 처리
try {
    FileReader file = new FileReader("data.txt");
} catch (FileNotFoundException e) {
    System.out.println("파일을 찾을 수 없습니다.");
}

// 방법 2: throws로 호출자에게 전파
public void readFile() throws IOException {
    FileReader file = new FileReader("data.txt");
}
```


### Unchecked Exception 처리

```java
// 방어적 코딩으로 예방
public void processArray(int[] arr, int index) {
    if (arr != null && index >= 0 && index < arr.length) {
        System.out.println(arr[index]);
    }
}
```


## Best Practices

### 권장사항

- **구체적인 예외 타입** 사용
- **리소스는 finally 블록**에서 해제 (또는 try-with-resources 사용)
- **예외 정보를 적절히 로깅**
- **사용자에게 의미있는 오류 메시지** 제공


### 피해야 할 것

- **Exception을 무시**하거나 빈 catch 블록 사용
- **너무 광범위한 예외 타입** (Exception) 사용
- **예외를 제어 흐름**으로 사용

Java의 예외 처리는 **안정성과 가독성**을 동시에 확보하는 핵심 메커니즘으로, 적절한 예외 분류와 처리 전략을 통해 견고한 애플리케이션을 구축할 수 있습니다.

## 느낀 점
첫 프로젝트 때 어려웠던 예외처리가 아직도 떠오르고 추후 문제가 발생하지 않도록 예외를 꼼꼼히 생각해야겠다는 생각이 들었다.

