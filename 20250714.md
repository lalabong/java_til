## 프론트엔드 공통 컴포넌트 구현하기
- 피그마를 보면서 공통으로 쓰이는 부분이 어딘지 샅샅이 찾아야했다.
- 우리 프로젝트는 shadcn을 사용하기 때문에 컴포넌트를 쓸 때마다 일일히 다운받아줘야했다.
- 그리고 그 안에서 커스텀하거나 가져다가 커스텀하는 방식이었다.

### 버튼 컴포넌트
```typescript
import { Button, ButtonProps } from '@/components/ui/button';
import { cn } from '@/lib/utils';

interface ButtonComponentProps extends Omit<ButtonProps, 'variant' | 'size'> {
  variant?: 'primary' | 'secondary' | 'danger' | 'ghost';
  size?: 'default' | 'sm' | 'lg' | 'icon';
}

export function ButtonComponent({
  variant = 'primary',
  size = 'default',
  className,
  ...props
}: ButtonComponentProps) {

  const variantMap = {
    primary: 'customPrimary',
    secondary: 'customSecondary',
    danger: 'customDanger',
    ghost: 'ghost',
    } as const;

  return (
    <Button
      variant={variantMap[variant]}
      size={size}
      className={cn(className)}
      {...props}
    />
  );
}
```
- shadcn의 버튼 컴포넌트에서 variantMap을 만들어서 따로 커스텀해주었다.
```typescript
import * as React from 'react';
import { Slot } from '@radix-ui/react-slot';
import { type VariantProps } from 'class-variance-authority';

import { cn } from '@/lib/utils';
import { buttonVariants } from './button-variants';

export interface ButtonProps
  extends React.ButtonHTMLAttributes<HTMLButtonElement>,
    VariantProps<typeof buttonVariants> {
  asChild?: boolean;
}

const Button = React.forwardRef<HTMLButtonElement, ButtonProps>(
  ({ className, variant, size, asChild = false, ...props }, ref) => {
    const Comp = asChild ? Slot : 'button';
    return (
      <Comp className={cn(buttonVariants({ variant, size, className }))} ref={ref} {...props} />
    );
  },
);
Button.displayName = 'Button';

export { Button };
```
- 이게 shadcn에서 제공해준 버튼 컴포넌트이다.
- 원래 buttonVariants도 같이 있었는데 상수는 컴포넌트와 함께 export가 안돼서 분리했다.
```typescript
import { cva } from 'class-variance-authority'

export const buttonVariants = cva(
  'inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0',
  {
    variants: {
      variant: {
        default:
          'bg-primary text-primary-foreground shadow hover:bg-primary/90',
        destructive:
          'bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90',
        outline:
          'border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground',
        secondary:
          'bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80',
        ghost: 'hover:bg-accent hover:text-accent-foreground',
        link: 'text-primary underline-offset-4 hover:underline',
        customPrimary: 'bg-[#467599] text-white shadow hover:bg-[#3a5f80] focus-visible:ring-[#467599]',
        customSecondary: 'bg-[#A5C1D1] text-white shadow hover:bg-[#8fb0c2] focus-visible:ring-[#A5C1D1]',
        customDanger: 'bg-[#F07171] text-white shadow hover:bg-[#ed5757] focus-visible:ring-[#F07171]',
      },
      size: {
        default: 'h-9 px-4 py-2',
        sm: 'h-8 rounded-md px-3 text-xs',
        lg: 'h-10 rounded-md px-8',
        icon: 'h-9 w-9',
      },
    },
    defaultVariants: {
      variant: 'default',
      size: 'default',
    },
  }
) 
```
- 이렇게 만든 버튼컴포넌트는 나름의 규칙을 두고 아래와 같이 사용했다.
```typescript
        <div className="flex gap-2">
            <ButtonComponent variant="primary" size="sm">
              전체보기
            </ButtonComponent>
            <ButtonComponent variant="primary" size="sm">
              참여 중인 프로젝트만 보기
            </ButtonComponent>
            <ButtonComponent variant="danger" size="sm">
              <Plus size={16} />
              프로젝트 등록
            </ButtonComponent>
          </div>
```
- `Button`이라고 이름지을 수 없었던 게 이미 shadcn에서 제공해준 컴포넌트가 있어서 이름이 중복되었다.

## 느낀 점
- shadcn은 처음 써보는데 코드를 통째로 제공해주다보니 나름 커스텀하기도 편하고 좋았지만 이름 중복과 파일이 굉장히 많아진다는 단점이 있었다.